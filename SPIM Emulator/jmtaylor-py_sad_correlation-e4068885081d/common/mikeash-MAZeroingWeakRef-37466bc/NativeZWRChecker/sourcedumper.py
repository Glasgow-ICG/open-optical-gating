#!/usr/bin/python

iOSPlist = """<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE plist PUBLIC "-//Apple//DTD PLIST 1.0//EN" "http://www.apple.com/DTDs/PropertyList-1.0.dtd">
<plist version="1.0">
<array>
	<dict>
		<key>name</key>
		<string>__NSOperationInternal</string>
		<key>sha</key>
		<data>
		ROSeGwWpNKnZxacFFj1PFUGoRSQ=
		</data>
	</dict>
	<dict>
		<key>name</key>
		<string>__NSStackBlock__</string>
		<key>sha</key>
		<data>
		3papHp41j4ZHdNNrNkFTcEBSr8s=
		</data>
	</dict>
	<dict>
		<key>name</key>
		<string>NSPort</string>
		<key>sha</key>
		<data>
		We3vJYzFNeejp1rM03UIQ7IK7rI=
		</data>
	</dict>
	<dict>
		<key>name</key>
		<string>NSMachPort</string>
		<key>sha</key>
		<data>
		sEAJodm0DwS2BNbVe53fngii5Lc=
		</data>
	</dict>
	<dict>
		<key>name</key>
		<string>NSMessagePort</string>
		<key>sha</key>
		<data>
		VHdluyievZ9dDDlwW+dlzDzMSgY=
		</data>
	</dict>
	<dict>
		<key>name</key>
		<string>__NSFinalizingBlock__</string>
		<key>sha</key>
		<data>
		3AZZFtRa6m+OCKyJrAtzLGJn/wA=
		</data>
	</dict>
	<dict>
		<key>name</key>
		<string>NSBlock</string>
		<key>sha</key>
		<data>
		BQpaL8Om1fvPzIXyL+oW67/PnlI=
		</data>
	</dict>
	<dict>
		<key>name</key>
		<string>__NSStackBlock</string>
		<key>sha</key>
		<data>
		zRs7gD8UnN6tGEvpRLoBXwiY1ow=
		</data>
	</dict>
	<dict>
		<key>name</key>
		<string>__NSAutoBlock</string>
		<key>sha</key>
		<data>
		lyAIsod346R+vjRvhCmmISp/zA4=
		</data>
	</dict>
	<dict>
		<key>name</key>
		<string>__NSFinalizingBlock</string>
		<key>sha</key>
		<data>
		jjw57/tev/xpn9vXTJevn8e/5wU=
		</data>
	</dict>
	<dict>
		<key>name</key>
		<string>__NSAutoBlock__</string>
		<key>sha</key>
		<data>
		sX6EDSOPeVb/kkB2sGuBdpYPwQo=
		</data>
	</dict>
	<dict>
		<key>name</key>
		<string>_CTNativeGlyphStorage</string>
		<key>sha</key>
		<data>
		Tqpn+KXIPhk/wAlZeVGgjuv7dyY=
		</data>
	</dict>
</array>
</plist>"""

MacPlist = """<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE plist PUBLIC "-//Apple//DTD PLIST 1.0//EN" "http://www.apple.com/DTDs/PropertyList-1.0.dtd">
<plist version="1.0">
<array>
	<dict>
		<key>name</key>
		<string>NSWindow</string>
		<key>sha</key>
		<data>
		SFeMN8U0BSGJXEsVB5y4/3tu8a4=
		</data>
	</dict>
	<dict>
		<key>name</key>
		<string>NSDrawerWindow</string>
		<key>sha</key>
		<data>
		/NgSMV9gYZR7dN7V+TRqUf8W7x4=
		</data>
	</dict>
	<dict>
		<key>name</key>
		<string>NSNavAdvancedSearchController</string>
		<key>sha</key>
		<data>
		TbJhqXch7kQchtzNaHxvbfKT7R4=
		</data>
	</dict>
	<dict>
		<key>name</key>
		<string>NSFindPanel</string>
		<key>sha</key>
		<data>
		zYGpaERs/FtA/hC0w04Z/VdobMs=
		</data>
	</dict>
	<dict>
		<key>name</key>
		<string>NSCarbonWindow</string>
		<key>sha</key>
		<data>
		ahavRAEYXohNEBwmK/fK9AkLJI4=
		</data>
	</dict>
	<dict>
		<key>name</key>
		<string>NSSecureTextView</string>
		<key>sha</key>
		<data>
		LbaEa2rmSFa0uK4Jj4jUn3GNK/Q=
		</data>
	</dict>
	<dict>
		<key>name</key>
		<string>__NSAutoBlock</string>
		<key>sha</key>
		<data>
		lyAIsod346R+vjRvhCmmISp/zA4=
		</data>
	</dict>
	<dict>
		<key>name</key>
		<string>NSViewHierarchyLock</string>
		<key>sha</key>
		<data>
		CIJQZlV2mLW4ViDWHAdVTjLgsTM=
		</data>
	</dict>
	<dict>
		<key>name</key>
		<string>NSBlock</string>
		<key>sha</key>
		<data>
		BQpaL8Om1fvPzIXyL+oW67/PnlI=
		</data>
	</dict>
	<dict>
		<key>name</key>
		<string>NSFontPanel</string>
		<key>sha</key>
		<data>
		vqtJfV9j/tynQ0OtJIBs6zYE0ps=
		</data>
	</dict>
	<dict>
		<key>name</key>
		<string>__NSStackBlock</string>
		<key>sha</key>
		<data>
		zRs7gD8UnN6tGEvpRLoBXwiY1ow=
		</data>
	</dict>
	<dict>
		<key>name</key>
		<string>NSFindPatternFieldEditor</string>
		<key>sha</key>
		<data>
		rXX5qhv5U5M14xaY/H7l7JvKZO8=
		</data>
	</dict>
	<dict>
		<key>name</key>
		<string>_PFManagedObjectReferenceQueue</string>
		<key>sha</key>
		<data>
		UrTPGUe41WVWdcBG1Dya8iEvxco=
		</data>
	</dict>
	<dict>
		<key>name</key>
		<string>__NSFinalizingBlock</string>
		<key>sha</key>
		<data>
		jjw57/tev/xpn9vXTJevn8e/5wU=
		</data>
	</dict>
	<dict>
		<key>name</key>
		<string>NSTableOptionsPanel</string>
		<key>sha</key>
		<data>
		Qm66oEUVhjdLMEgOe68K0nVDEPs=
		</data>
	</dict>
	<dict>
		<key>name</key>
		<string>NSColorPopoverController</string>
		<key>sha</key>
		<data>
		VKRPkoniO0lucOF1kHm7U19PzD4=
		</data>
	</dict>
	<dict>
		<key>name</key>
		<string>NSLazyBrowserCell</string>
		<key>sha</key>
		<data>
		/9eaS5QRt7u4JU00YIBG3DqV7eM=
		</data>
	</dict>
	<dict>
		<key>name</key>
		<string>NSTableOptions</string>
		<key>sha</key>
		<data>
		CRF7IZAowDmQm8WpD68IQ565ncM=
		</data>
	</dict>
	<dict>
		<key>name</key>
		<string>NSStringDrawingTextStorage</string>
		<key>sha</key>
		<data>
		SgzNnuoeiuoPAPPnM7FvW0JVVUU=
		</data>
	</dict>
	<dict>
		<key>name</key>
		<string>_NSFullScreenWindow</string>
		<key>sha</key>
		<data>
		gxE/KY51+hnKgl8M5kBgmaXMsNU=
		</data>
	</dict>
	<dict>
		<key>name</key>
		<string>_NSMagnifierWindow</string>
		<key>sha</key>
		<data>
		6FjBniKPQyf85Jf7Jusye6+DwYk=
		</data>
	</dict>
	<dict>
		<key>name</key>
		<string>_NSCachedAttributedString</string>
		<key>sha</key>
		<data>
		q+3V5uisAQ0gV39x/RjMaXIKHUI=
		</data>
	</dict>
	<dict>
		<key>name</key>
		<string>_NSNonretainedFullScreenWindow</string>
		<key>sha</key>
		<data>
		puhB56xY9iFkgq2oZRpUWIzTVKA=
		</data>
	</dict>
	<dict>
		<key>name</key>
		<string>NSSubTextStorage</string>
		<key>sha</key>
		<data>
		b8VsLCw34olyVrN9ti1nTNBfVcE=
		</data>
	</dict>
	<dict>
		<key>name</key>
		<string>NSCorrectionSubPanel</string>
		<key>sha</key>
		<data>
		GkQ7kZTSNF5KGNlxFyzE+lpxTLU=
		</data>
	</dict>
	<dict>
		<key>name</key>
		<string>NSToolTipPanel</string>
		<key>sha</key>
		<data>
		lp+Z+UkqDP4ITu3UK2k57xK6GAI=
		</data>
	</dict>
	<dict>
		<key>name</key>
		<string>NSTokenTextView</string>
		<key>sha</key>
		<data>
		Ttf83RkW7X6eg44lXKbmDuE2w7E=
		</data>
	</dict>
	<dict>
		<key>name</key>
		<string>NSTextTab</string>
		<key>sha</key>
		<data>
		f7VofsahuBSzG9Lszpk+A3IdF84=
		</data>
	</dict>
	<dict>
		<key>name</key>
		<string>NSAccessoryWindow</string>
		<key>sha</key>
		<data>
		Q6z7uarex+PgkTJgrf7SRP51vGs=
		</data>
	</dict>
	<dict>
		<key>name</key>
		<string>NSCorrectionPanel</string>
		<key>sha</key>
		<data>
		HJDf026wh9bEpDPZn/neafSAffQ=
		</data>
	</dict>
	<dict>
		<key>name</key>
		<string>NSFontManager</string>
		<key>sha</key>
		<data>
		3ZSbDioAG3dNHOYikR0AxPJRqnc=
		</data>
	</dict>
	<dict>
		<key>name</key>
		<string>NSPrintPreviewController</string>
		<key>sha</key>
		<data>
		anKU3rnEk4bMiB4Di39yfFGW+7o=
		</data>
	</dict>
	<dict>
		<key>name</key>
		<string>NSISObjectiveVariable</string>
		<key>sha</key>
		<data>
		Bw9S7Pex5Sp8OdRhF3Ymjnpcj7I=
		</data>
	</dict>
	<dict>
		<key>name</key>
		<string>NSPort</string>
		<key>sha</key>
		<data>
		We3vJYzFNeejp1rM03UIQ7IK7rI=
		</data>
	</dict>
	<dict>
		<key>name</key>
		<string>NSMachPort</string>
		<key>sha</key>
		<data>
		sEAJodm0DwS2BNbVe53fngii5Lc=
		</data>
	</dict>
	<dict>
		<key>name</key>
		<string>NSParagraphStyle</string>
		<key>sha</key>
		<data>
		dvUt4yMQmGGsWZlZ2j2NpgpnN8A=
		</data>
	</dict>
	<dict>
		<key>name</key>
		<string>NSMutableParagraphStyle</string>
		<key>sha</key>
		<data>
		+iyzpRrhoAOUQuJsqqH4I7ISjv0=
		</data>
	</dict>
	<dict>
		<key>name</key>
		<string>NSMessagePort</string>
		<key>sha</key>
		<data>
		VHdluyievZ9dDDlwW+dlzDzMSgY=
		</data>
	</dict>
	<dict>
		<key>name</key>
		<string>NSExceptionAlertController</string>
		<key>sha</key>
		<data>
		lR/CLWuBi8ZtYomSaF9LVHS8G0M=
		</data>
	</dict>
	<dict>
		<key>name</key>
		<string>NSISNonNegativeVariableWithDelegate</string>
		<key>sha</key>
		<data>
		GtoRBKxZzliZCAWux59ffB6r8xI=
		</data>
	</dict>
	<dict>
		<key>name</key>
		<string>NSFont</string>
		<key>sha</key>
		<data>
		2xon5Aci9SfDzcgrtiwlQPlGpHM=
		</data>
	</dict>
	<dict>
		<key>name</key>
		<string>NSNavNewFolderController</string>
		<key>sha</key>
		<data>
		+YmCkaf8Q+4bA+/MSAgRUZty6RQ=
		</data>
	</dict>
	<dict>
		<key>name</key>
		<string>NSNavProgressErrorViewController</string>
		<key>sha</key>
		<data>
		v4NLJvLDJMVkXUyWhu1CHIMFNIw=
		</data>
	</dict>
	<dict>
		<key>name</key>
		<string>_NSBorderlessLayerTreeProjectionWindow</string>
		<key>sha</key>
		<data>
		vmYan5nzSrmnsAatwYHf4h4Bi/Q=
		</data>
	</dict>
	<dict>
		<key>name</key>
		<string>NSManagedObjectID</string>
		<key>sha</key>
		<data>
		KwHd7qY430VSAaMzGCouFwWWgUo=
		</data>
	</dict>
	<dict>
		<key>name</key>
		<string>NSSavePanel</string>
		<key>sha</key>
		<data>
		8aVWn479HMFaFcUCDVa0G3AQ3wo=
		</data>
	</dict>
	<dict>
		<key>name</key>
		<string>NSISNonNegativeVariableWithDelegateToBeMinimized</string>
		<key>sha</key>
		<data>
		kSnm/5yoG3gzXvXW9vM0qSdo3Eg=
		</data>
	</dict>
	<dict>
		<key>name</key>
		<string>NSStatusBarWindow</string>
		<key>sha</key>
		<data>
		aDpl8bpqf6f7EuQfUyWtdIgNczA=
		</data>
	</dict>
	<dict>
		<key>name</key>
		<string>_NSSlideAndCrossFadeAnimationProjectionWindow</string>
		<key>sha</key>
		<data>
		N29wQ0c/FJv4HlfLQNZU1NFvxl4=
		</data>
	</dict>
	<dict>
		<key>name</key>
		<string>NSPanel</string>
		<key>sha</key>
		<data>
		nbOBxM5LSG2AavThMdqNx4OrxaE=
		</data>
	</dict>
	<dict>
		<key>name</key>
		<string>__NSSharedFontInstanceInfo</string>
		<key>sha</key>
		<data>
		Hfw+cCmab76aPudWHmQT6Wr9yc0=
		</data>
	</dict>
	<dict>
		<key>name</key>
		<string>_NSDuplicateDocumentAnimationProjectionWindow</string>
		<key>sha</key>
		<data>
		k2sV+fK5+4ZCsp12qpo+r0c7S5c=
		</data>
	</dict>
	<dict>
		<key>name</key>
		<string>_NSSavePanelTextView</string>
		<key>sha</key>
		<data>
		X8BeiDqxkZz5nRn+eamPekIDfHI=
		</data>
	</dict>
	<dict>
		<key>name</key>
		<string>NSISNonNegativeMarkerVariableToBeMinimized</string>
		<key>sha</key>
		<data>
		87iKzyPmaeh2Qp2xSgKxn4SkOT4=
		</data>
	</dict>
	<dict>
		<key>name</key>
		<string>NSBrowserColumnViewController</string>
		<key>sha</key>
		<data>
		3l09TtZ6XGvnSkwKv75f30g0gOg=
		</data>
	</dict>
	<dict>
		<key>name</key>
		<string>NSExternalRefCountedData</string>
		<key>sha</key>
		<data>
		tGkj/ekPJBm3p5Lh7RvRoK5khYc=
		</data>
	</dict>
	<dict>
		<key>name</key>
		<string>NSISNonNegativeVariableToBeMinimized</string>
		<key>sha</key>
		<data>
		BYOuxVYFzrPVGOkwt3D0eMmv3VQ=
		</data>
	</dict>
	<dict>
		<key>name</key>
		<string>NSISPureMarkerVariable</string>
		<key>sha</key>
		<data>
		8s5xPyEDG1dlM7/nI02Zghu59jQ=
		</data>
	</dict>
	<dict>
		<key>name</key>
		<string>NSNavProgressStatusViewController</string>
		<key>sha</key>
		<data>
		fXYY9mdJ8CfQMRTzzk1ulSaVobk=
		</data>
	</dict>
	<dict>
		<key>name</key>
		<string>NSDockMiniViewWindow</string>
		<key>sha</key>
		<data>
		3ZeRBWfU7XCsylSRUpqDl9InMkU=
		</data>
	</dict>
	<dict>
		<key>name</key>
		<string>NSISNonNegativeVariable</string>
		<key>sha</key>
		<data>
		2QkSOU2kA4sCE0rGWNWeUErwAjY=
		</data>
	</dict>
	<dict>
		<key>name</key>
		<string>__NSFontTypefaceInfo</string>
		<key>sha</key>
		<data>
		M0YWTuFHGjKCbq5h7fgOJ6h22gg=
		</data>
	</dict>
	<dict>
		<key>name</key>
		<string>NSCarbonMenuWindow</string>
		<key>sha</key>
		<data>
		iegw7vmHI9dVQXH+vWpqCfioqbA=
		</data>
	</dict>
	<dict>
		<key>name</key>
		<string>_NSTextFinderOverlayWindow</string>
		<key>sha</key>
		<data>
		wy4SWbpy11FAc+Ph+x6XsMXB5Os=
		</data>
	</dict>
	<dict>
		<key>name</key>
		<string>NSSpellingPanel</string>
		<key>sha</key>
		<data>
		IEXWZk7TRqIxvNSRu8Z/r5oW81U=
		</data>
	</dict>
	<dict>
		<key>name</key>
		<string>NSISVariable</string>
		<key>sha</key>
		<data>
		PYR5FhTbcicFsSuM7fsf5mWbozI=
		</data>
	</dict>
	<dict>
		<key>name</key>
		<string>NSATSGlyphStorage</string>
		<key>sha</key>
		<data>
		B0BGyq1tzEkmPIG4C+chzCjPwyQ=
		</data>
	</dict>
	<dict>
		<key>name</key>
		<string>NSText</string>
		<key>sha</key>
		<data>
		wZS0fLqk9TpDBqOEZOv34OC2mFU=
		</data>
	</dict>
	<dict>
		<key>name</key>
		<string>NSNavFilepathInputController</string>
		<key>sha</key>
		<data>
		OGBcP6MLw40+BzMeVPPtiCkOr8M=
		</data>
	</dict>
	<dict>
		<key>name</key>
		<string>NSNavProgressWindow</string>
		<key>sha</key>
		<data>
		/NR/6hsRv+uSVyNwCRKJr4Si3zE=
		</data>
	</dict>
	<dict>
		<key>name</key>
		<string>NSISNonNegativeMarkerVariable</string>
		<key>sha</key>
		<data>
		hF1GmfJvPnDQBwQyaIJdrdtdlok=
		</data>
	</dict>
	<dict>
		<key>name</key>
		<string>__NSOperationInternal</string>
		<key>sha</key>
		<data>
		ROSeGwWpNKnZxacFFj1PFUGoRSQ=
		</data>
	</dict>
	<dict>
		<key>name</key>
		<string>NSSingleLineTypesetter</string>
		<key>sha</key>
		<data>
		mEoN+Xv4IBzGQEMGB2wU1yUhJbc=
		</data>
	</dict>
	<dict>
		<key>name</key>
		<string>NSISVariableWithDelegate</string>
		<key>sha</key>
		<data>
		JJc4QSvnGGdiBd3fwVdZScQWMpQ=
		</data>
	</dict>
	<dict>
		<key>name</key>
		<string>NSNavProgressWindowController</string>
		<key>sha</key>
		<data>
		qpt1Mw+o+tqNStZMQxJHTRCywKA=
		</data>
	</dict>
	<dict>
		<key>name</key>
		<string>_NSBrowserTableColumnViewController</string>
		<key>sha</key>
		<data>
		H/UmwkD3kRafI04jpP3P4LcSvgU=
		</data>
	</dict>
	<dict>
		<key>name</key>
		<string>NSImage</string>
		<key>sha</key>
		<data>
		98w7UxBrKaYsvbQzj6JGUJ+X5nc=
		</data>
	</dict>
	<dict>
		<key>name</key>
		<string>NSATSTypesetter</string>
		<key>sha</key>
		<data>
		6i+fLL9rpyN+ZHDMdZypvXAs0WY=
		</data>
	</dict>
	<dict>
		<key>name</key>
		<string>_NSPopoverWindow</string>
		<key>sha</key>
		<data>
		7NDJV6/O/hXno6ss2nKurRdFhrE=
		</data>
	</dict>
	<dict>
		<key>name</key>
		<string>NSRulerMarkerPanel</string>
		<key>sha</key>
		<data>
		Z66vWYyjSvjpCuh8GEgANLxKaUA=
		</data>
	</dict>
	<dict>
		<key>name</key>
		<string>_NSCoreManagedObjectID</string>
		<key>sha</key>
		<data>
		ULIuKpe0CGGpUXIgdL+F5FSzGiQ=
		</data>
	</dict>
	<dict>
		<key>name</key>
		<string>__NSFinalizingBlock__</string>
		<key>sha</key>
		<data>
		3AZZFtRa6m+OCKyJrAtzLGJn/wA=
		</data>
	</dict>
	<dict>
		<key>name</key>
		<string>_NSBrowserPreviewColumnViewController</string>
		<key>sha</key>
		<data>
		W4odqX5yXXCBzwzguHOPXIXWoeE=
		</data>
	</dict>
	<dict>
		<key>name</key>
		<string>__NSATSStringSegment</string>
		<key>sha</key>
		<data>
		bzQVPTMn4pgVaw3FsAmOiyJAiJw=
		</data>
	</dict>
	<dict>
		<key>name</key>
		<string>_NSBrowserMatrixColumnViewController</string>
		<key>sha</key>
		<data>
		Ohkhh6cAV7VU31NQV+eI9oU9XnM=
		</data>
	</dict>
	<dict>
		<key>name</key>
		<string>NSPersistentUIWindowInfo</string>
		<key>sha</key>
		<data>
		5fBFUxrIXWvsMyb2QL5JGKvRHag=
		</data>
	</dict>
	<dict>
		<key>name</key>
		<string>_NSAutomaticFocusRingOverlayWindow</string>
		<key>sha</key>
		<data>
		qS/ZwOqufQPYXr5n7l+wYNBXelw=
		</data>
	</dict>
	<dict>
		<key>name</key>
		<string>NSPersistentUIEncodedReference</string>
		<key>sha</key>
		<data>
		3BCrWRJDZBJ54IKz+c079E17lCU=
		</data>
	</dict>
	<dict>
		<key>name</key>
		<string>__NSAutoBlock__</string>
		<key>sha</key>
		<data>
		sX6EDSOPeVb/kkB2sGuBdpYPwQo=
		</data>
	</dict>
	<dict>
		<key>name</key>
		<string>NSLineFragmentRenderingContext</string>
		<key>sha</key>
		<data>
		rGK8uSbdJD0/xCZHUMa7a1aTFiw=
		</data>
	</dict>
	<dict>
		<key>name</key>
		<string>NSComboBoxWindow</string>
		<key>sha</key>
		<data>
		oGMLwra+9sOGRwcO2O//kuUx6QA=
		</data>
	</dict>
	<dict>
		<key>name</key>
		<string>NSProgressPanel</string>
		<key>sha</key>
		<data>
		U03ljaFAy3oaJ9OJJDna0UYc8IQ=
		</data>
	</dict>
	<dict>
		<key>name</key>
		<string>_NSFlippedImage</string>
		<key>sha</key>
		<data>
		vHs+POfjFBtGd0TbQ8OkuTFmCMc=
		</data>
	</dict>
	<dict>
		<key>name</key>
		<string>NSOpenPanel</string>
		<key>sha</key>
		<data>
		8+tajnD2v0E3iS6US5QjfTRsRrQ=
		</data>
	</dict>
	<dict>
		<key>name</key>
		<string>_NSOrderOutAnimationProxyWindow</string>
		<key>sha</key>
		<data>
		d+DVB4OnLn66rGqql0dPtCbo1co=
		</data>
	</dict>
	<dict>
		<key>name</key>
		<string>NSScalarObjectID64</string>
		<key>sha</key>
		<data>
		mN/zOpK3GneP90WS0CIYsMzFT5Y=
		</data>
	</dict>
	<dict>
		<key>name</key>
		<string>_NSFullScreenUnbufferedWindow</string>
		<key>sha</key>
		<data>
		NcJeItBLWUr+x7IMtY0HS+5KNVI=
		</data>
	</dict>
	<dict>
		<key>name</key>
		<string>NSTableCellView</string>
		<key>sha</key>
		<data>
		A1uBQqIOINc58aSoIYYd3KXvCTQ=
		</data>
	</dict>
	<dict>
		<key>name</key>
		<string>NSBasicObjectID</string>
		<key>sha</key>
		<data>
		XyJyWRP4cds6vqAbr+12C5rzXtg=
		</data>
	</dict>
	<dict>
		<key>name</key>
		<string>__NSStackBlock__</string>
		<key>sha</key>
		<data>
		3papHp41j4ZHdNNrNkFTcEBSr8s=
		</data>
	</dict>
	<dict>
		<key>name</key>
		<string>NSTextViewCompletionWindow</string>
		<key>sha</key>
		<data>
		co0ndJdiBotr7JJRSr1DyKpsWAk=
		</data>
	</dict>
	<dict>
		<key>name</key>
		<string>NSScalarObjectID48</string>
		<key>sha</key>
		<data>
		6IwZlZkW4FMH/eDeHEVEL6Ov7pA=
		</data>
	</dict>
	<dict>
		<key>name</key>
		<string>NSTypeSelectPanel</string>
		<key>sha</key>
		<data>
		5k9PqB+GISss6qvE1SFmTNhboJM=
		</data>
	</dict>
	<dict>
		<key>name</key>
		<string>NSDocumentRevisionsTimelineWindow</string>
		<key>sha</key>
		<data>
		Sj7E61aLBYq7vqDbWNJbme8MNsA=
		</data>
	</dict>
	<dict>
		<key>name</key>
		<string>_NSScalarObjectID</string>
		<key>sha</key>
		<data>
		EaNh4n2xPuTh0XoNxHRSdrC1frM=
		</data>
	</dict>
	<dict>
		<key>name</key>
		<string>NSNavNodeSharedServerController</string>
		<key>sha</key>
		<data>
		N3Kbz1/PiHVyjvFs5chixV/izVw=
		</data>
	</dict>
	<dict>
		<key>name</key>
		<string>NSCollectionViewItem</string>
		<key>sha</key>
		<data>
		mLK2tFhdKjwMyCfnbmMHflOyUFk=
		</data>
	</dict>
	<dict>
		<key>name</key>
		<string>NSNavNodePreviewController</string>
		<key>sha</key>
		<data>
		6caXQIAux9K9ydl7IXQjQw/hWnE=
		</data>
	</dict>
	<dict>
		<key>name</key>
		<string>_NSQuickLookWrapperDocumentWindow</string>
		<key>sha</key>
		<data>
		D31WdK2TSOK9K1y09vjS/EfA9Lk=
		</data>
	</dict>
	<dict>
		<key>name</key>
		<string>NSColorSpace</string>
		<key>sha</key>
		<data>
		lcprGOTF+DWuLMEs3M3sTsp2lAY=
		</data>
	</dict>
	<dict>
		<key>name</key>
		<string>NSPrintPanelOldAccessoryController</string>
		<key>sha</key>
		<data>
		fN11drCx/Ms+11Hj9JN41SfCTMQ=
		</data>
	</dict>
	<dict>
		<key>name</key>
		<string>_PFTask</string>
		<key>sha</key>
		<data>
		dUvjXLAgFMqMYWDceu4PiBmfp2g=
		</data>
	</dict>
	<dict>
		<key>name</key>
		<string>NSWindowController</string>
		<key>sha</key>
		<data>
		fxg65zpHoYZciz2tdOd7o3HOtu0=
		</data>
	</dict>
	<dict>
		<key>name</key>
		<string>NSAttributeDictionary</string>
		<key>sha</key>
		<data>
		OikvRNnrgR6JITga0Tb1G7EP4qU=
		</data>
	</dict>
	<dict>
		<key>name</key>
		<string>NSSidebarImage</string>
		<key>sha</key>
		<data>
		mlem51SivOYgKEJgkwMUnd/b2k8=
		</data>
	</dict>
	<dict>
		<key>name</key>
		<string>NSViewController</string>
		<key>sha</key>
		<data>
		ooON0P+jNonvYry11rt6S/b2sfs=
		</data>
	</dict>
	<dict>
		<key>name</key>
		<string>NSDocumentRevisionsWindow</string>
		<key>sha</key>
		<data>
		0lNAsunn2KqpjFmZAQkrqVqMBKQ=
		</data>
	</dict>
	<dict>
		<key>name</key>
		<string>_NSToolbarDefaultImageRepWindow</string>
		<key>sha</key>
		<data>
		8fXzOOF3REOIBDYCOPz8+6gXTA4=
		</data>
	</dict>
	<dict>
		<key>name</key>
		<string>NSNavPreviewController</string>
		<key>sha</key>
		<data>
		4b+uu16zT6HmTrDXeJa6mVHGFL4=
		</data>
	</dict>
	<dict>
		<key>name</key>
		<string>NSTempAttributeDictionary</string>
		<key>sha</key>
		<data>
		82aVtqcnZnAvxUo45js0DVQhh44=
		</data>
	</dict>
	<dict>
		<key>name</key>
		<string>NSNavSharedServerController</string>
		<key>sha</key>
		<data>
		RbjLn+o68uMwnVPFNpVKaVXqhe4=
		</data>
	</dict>
	<dict>
		<key>name</key>
		<string>_NSFullScreenTransitionOverlayWindow</string>
		<key>sha</key>
		<data>
		c7HGS1SwVkIm0Az0KCMSN620faw=
		</data>
	</dict>
	<dict>
		<key>name</key>
		<string>NSTextView</string>
		<key>sha</key>
		<data>
		bgdKj9Wtpr9iFUmamPuebJopXkU=
		</data>
	</dict>
	<dict>
		<key>name</key>
		<string>PBOXMenuWindow</string>
		<key>sha</key>
		<data>
		rg0DJXYfH0VYJbiPqDdy/fW38YU=
		</data>
	</dict>
	<dict>
		<key>name</key>
		<string>NSToolbarConfigPanel</string>
		<key>sha</key>
		<data>
		HzqAu6fBQcmlh0Zs6FMPMSzkgu0=
		</data>
	</dict>
	<dict>
		<key>name</key>
		<string>NSLocalWindowWrappingRemoteWindow</string>
		<key>sha</key>
		<data>
		TJZzArlE4x8Lr6u68BwcEgC3hr8=
		</data>
	</dict>
	<dict>
		<key>name</key>
		<string>NSToolbarFullScreenWindow</string>
		<key>sha</key>
		<data>
		aSDvp1iijMMgobjNdUZA/AWuYQo=
		</data>
	</dict>
</array>
</plist>"""


import plistlib

iOSPlist = plistlib.readPlistFromString(iOSPlist)
MacPlist = plistlib.readPlistFromString(MacPlist)


def PrintArray(hashesToNames, indent):
    indentStr = ' ' * indent * 4
    for byte in range(256):
        matching = [x for x in hashesToNames.keys() if x.startswith(chr(byte))]
        if matching:
            d = {}
            for hash in matching:
                if len(hash) > 1:
                    d[hash[1:]] = hashesToNames[hash]
            if len(d) > 1:
                print '%s[0x%x] = { 1, (struct _NativeZWRTableEntry[256]) { // %d' % (indentStr, byte, indent)
                PrintArray(d, indent + 1)
                print indentStr + '}},'
            elif d:
                hash = d.keys()[0]
                hashBytes = ['0x%x' % ord(x) for x in hash]
                hashC = ', '.join(hashBytes)
                print '%s[0x%x] = { 0, (unsigned char[]){ %s } }, // %s' % (indentStr, byte, hashC, d[hash])
            else:
                for hash in matching:
                    print '%s[0x%x] = { 0, &_MAZeroingWeakRefClassPresentToken }, // %s' % (indentStr, byte, hashesToNames[hash])
                
    

hashesToNames = {}
for x in iOSPlist + MacPlist:
    hashesToNames[x['sha'].data] = x['name']

print 'static void *_MAZeroingWeakRefClassPresentToken = &_MAZeroingWeakRefClassPresentToken;'
print 'struct _NativeZWRTableEntry { BOOL isTable; void *ptr; };'
print 'static struct _NativeZWRTableEntry _MAZeroingWeakRefClassNativeWeakReferenceNotAllowedTable[256] = {'
PrintArray(hashesToNames, 1)
print '};'
